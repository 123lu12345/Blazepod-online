
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>BlazePod Dashboard</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <style>
      body { font-family: sans-serif; background: #121212; color: white; text-align: center; padding: 2rem; }
      .tab { margin: 1rem 0; display: inline-block; padding: 1rem; cursor: pointer; border: 1px solid white; }
      .tab-content { margin-top: 1rem; }
      .hidden { display: none; }
      .form-input { margin: 1rem; font-size: 1.1rem; }
      #gameDuration, #blinkInterval, #blackPause { font-size: 1rem; }
      #gameDuration { width: 60px; text-align: center; }
      .qr-code { margin-top: 2rem; }
    </style>
  </head>
  <body>
    <h1>BlazePod Dashboard</h1>
    
    <!-- Login Section -->
    <div id="loginSection">
      <label for="playerName" class="form-input">Bitte deinen Namen eingeben:</label>
      <input type="text" id="playerName" class="form-input" placeholder="Name" required/>
      <button id="loginBtn" class="form-input">Anmelden</button>
    </div>

    <!-- Tab Navigation -->
    <div id="tabs">
      <div id="settingsTab" class="tab">Einstellungen</div>
      <div id="gameSettingsTab" class="tab">Spieleinstellungen</div>
      <div id="gameTab" class="tab">Spiel</div>
      <div id="gameHistoryTab" class="tab">Spielverlauf</div>
    </div>

    <!-- Tab Content Sections -->
    <div id="settingsTabContent" class="tab-content hidden">
      <h2>Einstellungen</h2>
      <div id="qrCodes"></div>
      <div id="requiredPodsSection">
        <label for="requiredPods">Ben√∂tigte Pods:</label>
        <select id="requiredPods" onchange="updatePodVisibility()">
          <option value="1">1 Pod</option>
          <option value="2">2 Pods</option>
          <option value="3">3 Pods</option>
          <option value="4" selected>4 Pods</option>
        </select>
      </div>
    </div>

    <div id="gameSettingsTabContent" class="tab-content hidden">
      <h2>Spieleinstellungen</h2>
      <label for="gameMode">Spielmodus:</label>
      <select id="gameMode">
        <option value="classic">Classic</option>
        <option value="shapes">Formen</option>
        <option value="numbers">Zahlen</option>
        <option value="touch-switch">Touch to Switch</option>
      </select><br/>
      <label for="gameDuration">Spielzeit (min):</label>
      <input id="gameDuration" type="number" value="1" min="1" max="15"/><br/>
      <label for="blinkInterval">Blink-Intervall (sek):</label>
      <input id="blinkInterval" type="number" value="1" min="1" max="10"/><br/>
      <label for="blackPause">Pause zwischen Blinks (sek):</label>
      <input id="blackPause" type="number" value="1" min="0" max="10"/><br/>
    </div>

    <div id="gameTabContent" class="tab-content hidden">
      <h2>Spiel</h2>
      <button id="startBtn">Start</button>
      <button id="stopBtn">Stop</button>
      <div id="countdown"></div>
      <div id="timer"></div>
    </div>

    <div id="gameHistoryTabContent" class="tab-content hidden">
      <h2>Spielverlauf</h2>
      <ul id="gameHistoryList"></ul>
    </div>

    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script>
      let playerName = "";
      const tabs = document.querySelectorAll('.tab');
      const tabContents = document.querySelectorAll('.tab-content');

      // Show tab content on tab click
      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          tabs.forEach(t => t.classList.remove('active'));
          tabContents.forEach(content => content.classList.add('hidden'));
          tab.classList.add('active');
          document.getElementById(tab.id + "Content").classList.remove('hidden');
        });
      });

      // Handle login
      document.getElementById("loginBtn").addEventListener('click', () => {
        playerName = document.getElementById("playerName").value;
        if (playerName) {
          document.getElementById("loginSection").style.display = 'none';
          document.getElementById("tabs").style.display = 'block';
          document.getElementById("settingsTab").click();
        }
      });

      // Handle pod QR Codes and visibility based on selected pods
      function updatePodVisibility() {
        const requiredPods = document.getElementById("requiredPods").value;
        let qrCodes = '';
        for (let i = 1; i <= requiredPods; i++) {
          qrCodes += `<div class="qr-code">QR Code for Pod ${i}</div>`;
        }
        document.getElementById("qrCodes").innerHTML = qrCodes;
      }
    </script>
  </body>
</html>
